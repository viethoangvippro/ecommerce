<div
  class="container-fluid p-3"
  style="background-color: #ececec"
  *ngIf="product"
>
  <div class="container product-details p-3" *ngIf="product">
    <div class="row p-3" style="background-color: #ffffff; border-radius: 3px">
      <div class="col-sm-6">
        <img class="product-img" width="400px" height="" src="{{ product.image }}" alt="" />
      </div>
      <div class="col-sm-6">
        <div class="details">
          <h1>{{ product.name }}</h1>

          <div class="row">
            <div class="col-lg-1">{{ product.rating }}</div>
            <a
              routerLink="#feedback"
              [innerHTML]="convertToStars(product.rating)"
              class="col-md-3"
              style="margin-left: -15px; margin-top: -1px; color: black"
            ></a>
            <a class="col-md-2" href="product-reviews/{{ product.id }}"
              ><span
                ><svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-chat-dots"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"
                  />
                  <path
                    d="m2.165 15.803.02-.004c1.83-.363 2.948-.842 3.468-1.105A9.06 9.06 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.437 10.437 0 0 1-.524 2.318l-.003.011a10.722 10.722 0 0 1-.244.637c-.079.186.074.394.273.362a21.673 21.673 0 0 0 .693-.125zm.8-3.108a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6c0 3.193-3.004 6-7 6a8.06 8.06 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a10.97 10.97 0 0 0 .398-2z"
                  /></svg></span
            ></a>
          </div>
          <h3
            class="mt-3"
            style="color: red; font-size: 23px; font-family: 'REM', sans-serif"
          >
            {{ product.price | currency : currencyCode : currencyFormat }}
          </h3>
          <div>
            Màu sắc:
            <h3
              [style.backgroundColor]="product.color"
              class="product-color"
            ></h3>
          </div>

          <h6 class="mt-4">Mô tả chi tiết : {{ product.description }}</h6>
        </div>
      </div>
    </div>
  </div>
    <div
      class="container p-3"
      style="background-color: #ffffff; border-radius: 3px"
    >
      <h2 class="mb-3 p-3">Đánh giá</h2>
      <form class="row mb-3 p-3">
        <div class="form-group">
          <label for="rating">Đánh giá:</label>
          <input
            name="rating"
            type="number"
            min="1"
            max="5"
            [(ngModel)]="rating"
          />
        </div>
        <div class="form-group">
          <label for="comment">Nhận xét:</label>
          <textarea
            id="comment"
            name="comment"
            [(ngModel)]="comment"
            required
            rows="4"
            cols="50"
          ></textarea>
        </div>
        <button class="" style="width: 500px; margin-left: 350px;" (click)="saveProductReview()">
          Gửi đánh giá
        </button>
      </form>
    </div>
  </div>
  <!-- <div *ngIf="authService.isLoggedIn">
  <h2>Đánh giá sản phẩm</h2>
  <form (submit)="onSubmit()">
    <label>Đánh giá:</label>
    <input [(ngModel)]="rating" name="rating" type="number" min="1" max="5" required>
    <br>
    <label>Bình luận:</label>
    <textarea [(ngModel)]="comment" name="comment" required></textarea>
    <br>
    <button type="submit">Đăng</button>
  </form>
</div>
<div *ngIf="!authService.isLoggedIn">
  <p>Bạn cần đăng nhập để đăng bài đánh giá.</p>
</div> -->

